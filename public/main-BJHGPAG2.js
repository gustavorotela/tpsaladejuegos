import{a as et,c as pt}from"./chunk-HKDV43JN.js";import"./chunk-U57IFLVF.js";import"./chunk-JYC6WCHW.js";import"./chunk-VSVVYQLW.js";import{b as z,f as J,g as Y,h as X,i as Q,j as Z,l as ee,m as te,n as ze,o as V,p as K,q as se,r as ce,s as ue}from"./chunk-EXTJUWBA.js";import{Aa as l,Ab as D,Ac as dt,Ba as P,Bb as Ge,E as je,F as Le,H as qe,Ha as S,Hb as Je,I as me,Ib as Ye,Ja as F,Jb as Xe,Kb as Qe,L as M,Lb as ne,M as Be,Mb as Ze,Nb as R,O as I,Qb as L,Ra as p,Rb as oe,Sb as O,Ta as j,Tb as q,Va as k,Vb as he,W as Ve,Wa as T,Wb as v,Xa as _,Xb as B,Za as N,ba as Ke,c,ca as g,da as y,gb as Ue,lc as tt,ma as H,mc as nt,na as We,nc as ot,oc as it,pa as x,qc as rt,rb as $,rc as at,sc as st,tc as ct,uc as ie,vb as G,vc as re,wc as ae,yb as He,yc as ut,za as d,zb as $e,zc as lt}from"./chunk-LKR2EFMB.js";function un(e,t){if(e&1&&(d(0,"div",17),p(1),l()),e&2){let n=F();g(),j(" ",n.errorMessage," ")}}var be=(()=>{let t=class t{constructor(o,r,i){this.firestore=o,this.Auth=r,this.router=i,this.email="",this.password="",this.emailLogeado="",this.errorMessage=""}LoginRapido(){this.email="prueba@prueba.com",B(this.Auth,this.email,"prueba").then(o=>{if(o.user.email!=null){localStorage.setItem("userLogin",o.user.email);let r=V(this.firestore,"logins");K(r,{fecha:new Date,email:this.email}),this.router.navigateByUrl("/home")}}).catch(o=>this.errorMessage="El usuario y/o la contrase\xF1a son incorrectas.")}Login(){console.log(this.email),B(this.Auth,String(this.email),String(this.password)).then(o=>{if(o.user.email!=null){localStorage.setItem("userLogin",o.user.email);let r=V(this.firestore,"logins");K(r,{fecha:new Date,email:this.email}),this.router.navigateByUrl("/home")}}).catch(o=>this.errorMessage="El usuario y/o la contrase\xF1a son incorrectas.")}Registrarse(){this.router.navigateByUrl("registro")}};t.\u0275fac=function(r){return new(r||t)(y(se),y(ae),y(D))},t.\u0275cmp=M({type:t,selectors:[["app-login"]],standalone:!0,features:[N],decls:30,vars:3,consts:[["lang","en"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["href",Ke`https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css`,"rel","stylesheet"],[1,"min-h-screen","bg-gray-200","flex","items-center","justify-center"],[1,"bg-white","p-8","rounded-lg","shadow-lg","max-w-md","w-full"],[1,"text-2xl","font-bold","mb-6","text-center"],[1,"mb-4"],["for","email",1,"block","text-gray-700"],["name","email","type","email","id","email","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","password",1,"block","text-gray-700"],["name","password","type","password","id","password","required","",1,"w-full","px-3","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded-lg",3,"click"],["type","button",1,"w-full","bg-green-500","hover:bg-green-700","text-white","font-bold","py-2","px-4","rounded-lg",3,"click"],[1,"text-center"],[1,"text-blue-500","hover:underline",3,"click"],["class","mt-4 p-4 text-red-700 bg-red-200 rounded-lg",4,"ngIf"],[1,"mt-4","p-4","text-red-700","bg-red-200","rounded-lg"]],template:function(r,i){r&1&&(d(0,"html",0)(1,"head"),P(2,"meta",1)(3,"meta",2),d(4,"title"),p(5,"Login Page"),l(),P(6,"link",3),l(),d(7,"body",4)(8,"div",5)(9,"h2",6),p(10,"Iniciar Sesi\xF3n"),l(),d(11,"form")(12,"div",7)(13,"label",8),p(14,"Correo Electr\xF3nico"),l(),d(15,"input",9),_("ngModelChange",function(s){return T(i.email,s)||(i.email=s),s}),l()(),d(16,"div",7)(17,"label",10),p(18,"Contrase\xF1a"),l(),d(19,"input",11),_("ngModelChange",function(s){return T(i.password,s)||(i.password=s),s}),l()(),d(20,"div",7)(21,"button",12),S("click",function(){return i.Login()}),p(22,"Iniciar Sesi\xF3n"),l()(),d(23,"div",7)(24,"button",13),S("click",function(){return i.LoginRapido()}),p(25,"Login R\xE1pido"),l()(),d(26,"div",14)(27,"a",15),S("click",function(){return i.Registrarse()}),p(28,"Registrarse"),l()(),H(29,un,2,1,"div",16),l()()()()),r&2&&(g(15),k("ngModel",i.email),g(4),k("ngModel",i.password),g(10),x("ngIf",i.errorMessage))},dependencies:[G,$,te,Z,z,J,Y,ee,Q,X,et,ze]});let e=t;return e})();function ln(e,t){if(e&1&&(d(0,"div",16),p(1),l()),e&2){let n=F();g(),j(" ",n.errorMessage," ")}}function dn(e,t){if(e&1&&(d(0,"div",17),p(1),l()),e&2){let n=F();g(),j(" ",n.successMessage," ")}}var ft=(()=>{let t=class t{constructor(o,r,i){this.Auth=o,this.router=r,this.firestore=i,this.email="",this.password="",this.passwordConfirmar="",this.loggedUser="",this.flagError=!1,this.msjError="",this.errorMessage="",this.successMessage=""}registro(){this.password==this.passwordConfirmar?lt(this.Auth,this.email,this.password).then(o=>{o.user.email!==null&&(this.loggedUser=o.user.email),this.successMessage="Registro exitoso. \xA1Bienvenido!",this.loguearCuentaRegistrada(),this.flagError=!1}).catch(o=>{this.handleError(o)}):this.errorMessage="las contrase\xF1a ingresadas no coinciden"}loguearCuentaRegistrada(){return c(this,null,function*(){yield new Promise(o=>setTimeout(o,1e3)),B(this.Auth,this.email,this.password).then(o=>{if(o.user.email!=null){localStorage.setItem("userLogin",o.user.email);let r=V(this.firestore,"logins");K(r,{fecha:new Date,email:this.email}),this.router.navigateByUrl("/home")}}).catch(o=>console.log(o))})}handleError(o){switch(o.code){case"auth/email-already-in-use":this.errorMessage="Este email ya est\xE1 registrado.";break;case"auth/invalid-email":this.errorMessage="El email no es v\xE1lido.";break;case"auth/weak-password":this.errorMessage="La contrase\xF1a es demasiado d\xE9bil.";break;default:this.errorMessage="Ocurri\xF3 un error inesperado."}}login(){this.router.navigateByUrl("/login")}};t.\u0275fac=function(r){return new(r||t)(y(ae),y(D),y(se))},t.\u0275cmp=M({type:t,selectors:[["app-register"]],standalone:!0,features:[N],decls:25,vars:5,consts:[[1,"bg-gray-100","flex","items-center","justify-center","min-h-screen"],[1,"relative","bg-white","p-8","rounded-lg","shadow-lg","max-w-md","w-full","z-10"],[1,"text-2xl","font-bold","mb-6","text-center"],[1,"mb-4"],["for","email",1,"block","text-gray-700"],["name","email","type","email","id","email","name","email","required","",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","password",1,"block","text-gray-700"],["name","password","type","password","id","password","name","password","required","",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],[1,"mb-6"],["for","confirm-password",1,"block","text-gray-700"],["name","passwordConfirmar","type","password","id","confirm-password","name","confirm-password","required","",1,"w-full","px-4","py-2","border","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["type","submit",1,"w-full","bg-blue-500","text-white","py-2","rounded-lg","hover:bg-blue-600","transition","duration-300",3,"click"],[1,"text-center"],[1,"text-blue-500","hover:underline",3,"click"],["class","mt-4 p-4 text-red-700 bg-red-200 rounded-lg",4,"ngIf"],["class","mt-4 p-4 text-green-700 bg-green-200 rounded-lg",4,"ngIf"],[1,"mt-4","p-4","text-red-700","bg-red-200","rounded-lg"],[1,"mt-4","p-4","text-green-700","bg-green-200","rounded-lg"]],template:function(r,i){r&1&&(d(0,"body",0)(1,"div",1)(2,"h2",2),p(3,"Registro"),l(),d(4,"form")(5,"div",3)(6,"label",4),p(7,"Correo electr\xF3nico"),l(),d(8,"input",5),_("ngModelChange",function(s){return T(i.email,s)||(i.email=s),s}),l()(),d(9,"div",3)(10,"label",6),p(11,"Contrase\xF1a"),l(),d(12,"input",7),_("ngModelChange",function(s){return T(i.password,s)||(i.password=s),s}),l()(),d(13,"div",8)(14,"label",9),p(15,"Confirmar contrase\xF1a"),l(),d(16,"input",10),_("ngModelChange",function(s){return T(i.passwordConfirmar,s)||(i.passwordConfirmar=s),s}),l()(),d(17,"div",3)(18,"button",11),S("click",function(){return i.registro()}),p(19,"Registrarse"),l()(),d(20,"div",12)(21,"a",13),S("click",function(){return i.login()}),p(22,"Volver al log in"),l()(),H(23,ln,2,1,"div",14)(24,dn,2,1,"div",15),l()()()),r&2&&(g(8),k("ngModel",i.email),g(4),k("ngModel",i.password),g(4),k("ngModel",i.passwordConfirmar),g(7),x("ngIf",i.errorMessage),g(),x("ngIf",i.successMessage))},dependencies:[te,Z,z,J,Y,ee,Q,X,G,$]});let e=t;return e})();var gt=(e,t)=>{let n=qe(D);return localStorage.getItem("userLogin")!=null?(console.log("pase"),!0):(n.navigateByUrl("/login"),!1)};var mt=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:be},{path:"home",component:pt,canActivate:[gt]},{path:"quien-soy",loadChildren:()=>import("./chunk-R4B3FC26.js").then(e=>e.QuienSoyModule)},{path:"registro",component:ft},{path:"juegos/ahorcado",loadChildren:()=>import("./chunk-6XFVZN5Y.js").then(e=>e.AhorcadoModule)},{path:"juegos/mayoromenor",loadChildren:()=>import("./chunk-AZPXM3A7.js").then(e=>e.MayoromenorModule)},{path:"juegos/blackjack",loadChildren:()=>import("./chunk-LAUKBSRC.js").then(e=>e.BlackjackModule)},{path:"juegos/preguntados",loadChildren:()=>import("./chunk-3K3AMKT7.js").then(e=>e.PreguntadosModule)},{path:"chat",loadChildren:()=>import("./chunk-KESL5XF7.js").then(e=>e.ChatModule)},{path:"**",component:be}];var bt="@firebase/installations",Se="0.6.6";var yt=1e4,vt=`w:${Se}`,It="FIS_v2",pn="https://firebaseinstallations.googleapis.com/v1",fn=60*60*1e3,gn="installations",mn="Installations";var hn={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},A=new ne(gn,mn,hn);function St(e){return e instanceof Qe&&e.code.includes("request-failed")}function kt({projectId:e}){return`${pn}/projects/${e}/installations`}function Tt(e){return{token:e.token,requestStatus:2,expiresIn:bn(e.expiresIn),creationTime:Date.now()}}function _t(e,t){return c(this,null,function*(){let o=(yield t.json()).error;return A.create("request-failed",{requestName:e,serverCode:o.code,serverMessage:o.message,serverStatus:o.status})})}function Ct({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function wn(e,{refreshToken:t}){let n=Ct(e);return n.append("Authorization",yn(t)),n}function At(e){return c(this,null,function*(){let t=yield e();return t.status>=500&&t.status<600?e():t})}function bn(e){return Number(e.replace("s","000"))}function yn(e){return`${It} ${e}`}function vn(o,r){return c(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){let i=kt(e),a=Ct(e),s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}let h={fid:n,authVersion:It,appId:e.appId,sdkVersion:vt},b={method:"POST",headers:a,body:JSON.stringify(h)},u=yield At(()=>fetch(i,b));if(u.ok){let m=yield u.json();return{fid:m.fid||n,registrationStatus:2,refreshToken:m.refreshToken,authToken:Tt(m.authToken)}}else throw yield _t("Create Installation",u)})}function Et(e){return new Promise(t=>{setTimeout(t,e)})}function In(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}var Sn=/^[cdef][\w-]{21}$/,Ie="";function kn(){try{let e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;let n=Tn(e);return Sn.test(n)?n:Ie}catch{return Ie}}function Tn(e){return In(e).substr(0,22)}function de(e){return`${e.appName}!${e.appId}`}var Mt=new Map;function Nt(e,t){let n=de(e);Dt(n,t),_n(n,t)}function Dt(e,t){let n=Mt.get(e);if(n)for(let o of n)o(t)}function _n(e,t){let n=Cn();n&&n.postMessage({key:e,fid:t}),An()}var C=null;function Cn(){return!C&&"BroadcastChannel"in self&&(C=new BroadcastChannel("[Firebase] FID Change"),C.onmessage=e=>{Dt(e.data.key,e.data.fid)}),C}function An(){Mt.size===0&&C&&(C.close(),C=null)}var En="firebase-installations-database",Mn=1,E="firebase-installations-store",ye=null;function ke(){return ye||(ye=L(En,Mn,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(E)}}})),ye}function le(e,t){return c(this,null,function*(){let n=de(e),r=(yield ke()).transaction(E,"readwrite"),i=r.objectStore(E),a=yield i.get(n);return yield i.put(t,n),yield r.done,(!a||a.fid!==t.fid)&&Nt(e,t.fid),t})}function Rt(e){return c(this,null,function*(){let t=de(e),o=(yield ke()).transaction(E,"readwrite");yield o.objectStore(E).delete(t),yield o.done})}function pe(e,t){return c(this,null,function*(){let n=de(e),r=(yield ke()).transaction(E,"readwrite"),i=r.objectStore(E),a=yield i.get(n),s=t(a);return s===void 0?yield i.delete(n):yield i.put(s,n),yield r.done,s&&(!a||a.fid!==s.fid)&&Nt(e,s.fid),s})}function Te(e){return c(this,null,function*(){let t,n=yield pe(e.appConfig,o=>{let r=Nn(o),i=Dn(e,r);return t=i.registrationPromise,i.installationEntry});return n.fid===Ie?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})}function Nn(e){let t=e||{fid:kn(),registrationStatus:0};return Ot(t)}function Dn(e,t){if(t.registrationStatus===0){if(!navigator.onLine){let r=Promise.reject(A.create("app-offline"));return{installationEntry:t,registrationPromise:r}}let n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=Rn(e,n);return{installationEntry:n,registrationPromise:o}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:On(e)}:{installationEntry:t}}function Rn(e,t){return c(this,null,function*(){try{let n=yield vn(e,t);return le(e.appConfig,n)}catch(n){throw St(n)&&n.customData.serverCode===409?yield Rt(e.appConfig):yield le(e.appConfig,{fid:t.fid,registrationStatus:0}),n}})}function On(e){return c(this,null,function*(){let t=yield ht(e.appConfig);for(;t.registrationStatus===1;)yield Et(100),t=yield ht(e.appConfig);if(t.registrationStatus===0){let{installationEntry:n,registrationPromise:o}=yield Te(e);return o||n}return t})}function ht(e){return pe(e,t=>{if(!t)throw A.create("installation-not-found");return Ot(t)})}function Ot(e){return xn(e)?{fid:e.fid,registrationStatus:0}:e}function xn(e){return e.registrationStatus===1&&e.registrationTime+yt<Date.now()}function Pn(o,r){return c(this,arguments,function*({appConfig:e,heartbeatServiceProvider:t},n){let i=Fn(e,n),a=wn(e,n),s=t.getImmediate({optional:!0});if(s){let m=yield s.getHeartbeatsHeader();m&&a.append("x-firebase-client",m)}let h={installation:{sdkVersion:vt,appId:e.appId}},b={method:"POST",headers:a,body:JSON.stringify(h)},u=yield At(()=>fetch(i,b));if(u.ok){let m=yield u.json();return Tt(m)}else throw yield _t("Generate Auth Token",u)})}function Fn(e,{fid:t}){return`${kt(e)}/${t}/authTokens:generate`}function _e(e,t=!1){return c(this,null,function*(){let n,o=yield pe(e.appConfig,i=>{if(!xt(i))throw A.create("not-registered");let a=i.authToken;if(!t&&qn(a))return i;if(a.requestStatus===1)return n=jn(e,t),i;{if(!navigator.onLine)throw A.create("app-offline");let s=Vn(i);return n=Ln(e,s),s}});return n?yield n:o.authToken})}function jn(e,t){return c(this,null,function*(){let n=yield wt(e.appConfig);for(;n.authToken.requestStatus===1;)yield Et(100),n=yield wt(e.appConfig);let o=n.authToken;return o.requestStatus===0?_e(e,t):o})}function wt(e){return pe(e,t=>{if(!xt(t))throw A.create("not-registered");let n=t.authToken;return Kn(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function Ln(e,t){return c(this,null,function*(){try{let n=yield Pn(e,t),o=Object.assign(Object.assign({},t),{authToken:n});return yield le(e.appConfig,o),n}catch(n){if(St(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield Rt(e.appConfig);else{let o=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield le(e.appConfig,o)}throw n}})}function xt(e){return e!==void 0&&e.registrationStatus===2}function qn(e){return e.requestStatus===2&&!Bn(e)}function Bn(e){let t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+fn}function Vn(e){let t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Kn(e){return e.requestStatus===1&&e.requestTime+yt<Date.now()}function Wn(e){return c(this,null,function*(){let t=e,{installationEntry:n,registrationPromise:o}=yield Te(t);return o?o.catch(console.error):_e(t).catch(console.error),n.fid})}function Un(e,t=!1){return c(this,null,function*(){let n=e;return yield Hn(n),(yield _e(n,t)).token})}function Hn(e){return c(this,null,function*(){let{registrationPromise:t}=yield Te(e);t&&(yield t)})}function $n(e){if(!e||!e.options)throw ve("App Configuration");if(!e.name)throw ve("App Name");let t=["projectId","apiKey","appId"];for(let n of t)if(!e.options[n])throw ve(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function ve(e){return A.create("missing-app-config-values",{valueName:e})}var Pt="installations",Gn="installations-internal",zn=e=>{let t=e.getProvider("app").getImmediate(),n=$n(t),o=q(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:o,_delete:()=>Promise.resolve()}},Jn=e=>{let t=e.getProvider("app").getImmediate(),n=q(t,Pt).getImmediate();return{getId:()=>Wn(n),getToken:r=>Un(n,r)}};function Yn(){O(new R(Pt,zn,"PUBLIC")),O(new R(Gn,Jn,"PRIVATE"))}Yn();v(bt,Se);v(bt,Se,"esm2017");var Xn="/firebase-messaging-sw.js",Qn="/firebase-cloud-messaging-push-scope",Vt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Zn="https://fcmregistrations.googleapis.com/v1",Kt="google.c.a.c_id",eo="google.c.a.c_l",to="google.c.a.ts",no="google.c.a.e";var fe=function(e){return e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked",e}(fe||{});function w(e){let t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function oo(e){let t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/\-/g,"+").replace(/_/g,"/"),o=atob(n),r=new Uint8Array(o.length);for(let i=0;i<o.length;++i)r[i]=o.charCodeAt(i);return r}var Ce="fcm_token_details_db",io=5,Ft="fcm_token_object_Store";function ro(e){return c(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(i=>i.name).includes(Ce))return null;let t=null;return(yield L(Ce,io,{upgrade:(o,r,i,a)=>c(this,null,function*(){var s;if(r<2||!o.objectStoreNames.contains(Ft))return;let h=a.objectStore(Ft),b=yield h.index("fcmSenderId").get(e);if(yield h.clear(),!!b){if(r===2){let u=b;if(!u.auth||!u.p256dh||!u.endpoint)return;t={token:u.fcmToken,createTime:(s=u.createTime)!==null&&s!==void 0?s:Date.now(),subscriptionOptions:{auth:u.auth,p256dh:u.p256dh,endpoint:u.endpoint,swScope:u.swScope,vapidKey:typeof u.vapidKey=="string"?u.vapidKey:w(u.vapidKey)}}}else if(r===3){let u=b;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:w(u.auth),p256dh:w(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:w(u.vapidKey)}}}else if(r===4){let u=b;t={token:u.fcmToken,createTime:u.createTime,subscriptionOptions:{auth:w(u.auth),p256dh:w(u.p256dh),endpoint:u.endpoint,swScope:u.swScope,vapidKey:w(u.vapidKey)}}}}})})).close(),yield oe(Ce),yield oe("fcm_vapid_details_db"),yield oe("undefined"),ao(t)?t:null})}function ao(e){if(!e||!e.subscriptionOptions)return!1;let{subscriptionOptions:t}=e;return typeof e.createTime=="number"&&e.createTime>0&&typeof e.token=="string"&&e.token.length>0&&typeof t.auth=="string"&&t.auth.length>0&&typeof t.p256dh=="string"&&t.p256dh.length>0&&typeof t.endpoint=="string"&&t.endpoint.length>0&&typeof t.swScope=="string"&&t.swScope.length>0&&typeof t.vapidKey=="string"&&t.vapidKey.length>0}var so="firebase-messaging-database",co=1,W="firebase-messaging-store",Ae=null;function Wt(){return Ae||(Ae=L(so,co,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(W)}}})),Ae}function uo(e){return c(this,null,function*(){let t=Ut(e),o=yield(yield Wt()).transaction(W).objectStore(W).get(t);if(o)return o;{let r=yield ro(e.appConfig.senderId);if(r)return yield Ne(e,r),r}})}function Ne(e,t){return c(this,null,function*(){let n=Ut(e),r=(yield Wt()).transaction(W,"readwrite");return yield r.objectStore(W).put(t,n),yield r.done,t})}function Ut({appConfig:e}){return e.appId}var lo={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},f=new ne("messaging","Messaging",lo);function po(e,t){return c(this,null,function*(){let n=yield Re(e),o=Ht(t),r={method:"POST",headers:n,body:JSON.stringify(o)},i;try{i=yield(yield fetch(De(e.appConfig),r)).json()}catch(a){throw f.create("token-subscribe-failed",{errorInfo:a?.toString()})}if(i.error){let a=i.error.message;throw f.create("token-subscribe-failed",{errorInfo:a})}if(!i.token)throw f.create("token-subscribe-no-token");return i.token})}function fo(e,t){return c(this,null,function*(){let n=yield Re(e),o=Ht(t.subscriptionOptions),r={method:"PATCH",headers:n,body:JSON.stringify(o)},i;try{i=yield(yield fetch(`${De(e.appConfig)}/${t.token}`,r)).json()}catch(a){throw f.create("token-update-failed",{errorInfo:a?.toString()})}if(i.error){let a=i.error.message;throw f.create("token-update-failed",{errorInfo:a})}if(!i.token)throw f.create("token-update-no-token");return i.token})}function go(e,t){return c(this,null,function*(){let o={method:"DELETE",headers:yield Re(e)};try{let i=yield(yield fetch(`${De(e.appConfig)}/${t}`,o)).json();if(i.error){let a=i.error.message;throw f.create("token-unsubscribe-failed",{errorInfo:a})}}catch(r){throw f.create("token-unsubscribe-failed",{errorInfo:r?.toString()})}})}function De({projectId:e}){return`${Zn}/projects/${e}/registrations`}function Re(n){return c(this,arguments,function*({appConfig:e,installations:t}){let o=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${o}`})})}function Ht({p256dh:e,auth:t,endpoint:n,vapidKey:o}){let r={web:{endpoint:n,auth:t,p256dh:e}};return o!==Vt&&(r.web.applicationPubKey=o),r}var mo=7*24*60*60*1e3;function ho(e){return c(this,null,function*(){let t=yield bo(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:w(t.getKey("auth")),p256dh:w(t.getKey("p256dh"))},o=yield uo(e.firebaseDependencies);if(o){if(yo(o.subscriptionOptions,n))return Date.now()>=o.createTime+mo?wo(e,{token:o.token,createTime:Date.now(),subscriptionOptions:n}):o.token;try{yield go(e.firebaseDependencies,o.token)}catch(r){console.warn(r)}return jt(e.firebaseDependencies,n)}else return jt(e.firebaseDependencies,n)})}function wo(e,t){return c(this,null,function*(){try{let n=yield fo(e.firebaseDependencies,t),o=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield Ne(e.firebaseDependencies,o),n}catch(n){throw n}})}function jt(e,t){return c(this,null,function*(){let o={token:yield po(e,t),createTime:Date.now(),subscriptionOptions:t};return yield Ne(e,o),o.token})}function bo(e,t){return c(this,null,function*(){let n=yield e.pushManager.getSubscription();return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:oo(t)})})}function yo(e,t){let n=t.vapidKey===e.vapidKey,o=t.endpoint===e.endpoint,r=t.auth===e.auth,i=t.p256dh===e.p256dh;return n&&o&&r&&i}function Lt(e){let t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return vo(t,e),Io(t,e),So(t,e),t}function vo(e,t){if(!t.notification)return;e.notification={};let n=t.notification.title;n&&(e.notification.title=n);let o=t.notification.body;o&&(e.notification.body=o);let r=t.notification.image;r&&(e.notification.image=r);let i=t.notification.icon;i&&(e.notification.icon=i)}function Io(e,t){t.data&&(e.data=t.data)}function So(e,t){var n,o,r,i,a;if(!t.fcmOptions&&!(!((n=t.notification)===null||n===void 0)&&n.click_action))return;e.fcmOptions={};let s=(r=(o=t.fcmOptions)===null||o===void 0?void 0:o.link)!==null&&r!==void 0?r:(i=t.notification)===null||i===void 0?void 0:i.click_action;s&&(e.fcmOptions.link=s);let h=(a=t.fcmOptions)===null||a===void 0?void 0:a.analytics_label;h&&(e.fcmOptions.analyticsLabel=h)}function ko(e){return typeof e=="object"&&!!e&&Kt in e}$t("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o");$t("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function $t(e,t){let n=[];for(let o=0;o<e.length;o++)n.push(e.charAt(o)),o<t.length&&n.push(t.charAt(o));return n.join("")}function To(e){if(!e||!e.options)throw Ee("App Configuration Object");if(!e.name)throw Ee("App Name");let t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(let o of t)if(!n[o])throw Ee(o);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function Ee(e){return f.create("missing-app-config-values",{valueName:e})}var Me=class{constructor(t,n,o){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let r=To(t);this.firebaseDependencies={app:t,appConfig:r,installations:n,analyticsProvider:o}}_delete(){return Promise.resolve()}};function _o(e){return c(this,null,function*(){try{e.swRegistration=yield navigator.serviceWorker.register(Xn,{scope:Qn}),e.swRegistration.update().catch(()=>{})}catch(t){throw f.create("failed-service-worker-registration",{browserErrorMessage:t?.message})}})}function Co(e,t){return c(this,null,function*(){if(!t&&!e.swRegistration&&(yield _o(e)),!(!t&&e.swRegistration)){if(!(t instanceof ServiceWorkerRegistration))throw f.create("invalid-sw-registration");e.swRegistration=t}})}function Ao(e,t){return c(this,null,function*(){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Vt)})}function Eo(e,t){return c(this,null,function*(){if(!navigator)throw f.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw f.create("permission-blocked");return yield Ao(e,t?.vapidKey),yield Co(e,t?.serviceWorkerRegistration),ho(e)})}function Mo(e,t,n){return c(this,null,function*(){let o=No(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(o,{message_id:n[Kt],message_name:n[eo],message_time:n[to],message_device_time:Math.floor(Date.now()/1e3)})})}function No(e){switch(e){case fe.NOTIFICATION_CLICKED:return"notification_open";case fe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Do(e,t){return c(this,null,function*(){let n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===fe.PUSH_RECEIVED&&(typeof e.onMessageHandler=="function"?e.onMessageHandler(Lt(n)):e.onMessageHandler.next(Lt(n)));let o=n.data;ko(o)&&o[no]==="1"&&(yield Mo(e,n.messageType,o))})}var qt="@firebase/messaging",Bt="0.12.8";var Ro=e=>{let t=new Me(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>Do(t,n)),t},Oo=e=>{let t=e.getProvider("messaging").getImmediate();return{getToken:o=>Eo(t,o)}};function xo(){O(new R("messaging",Ro,"PUBLIC")),O(new R("messaging-internal",Oo,"PRIVATE")),v(qt,Bt),v(qt,Bt,"esm2017")}function Oe(){return c(this,null,function*(){try{yield Ye()}catch{return!1}return typeof window<"u"&&Je()&&Xe()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function Gt(e=he()){return Oe().then(t=>{if(!t)throw f.create("unsupported-browser")},t=>{throw f.create("indexed-db-unsupported")}),q(Ze(e),"messaging").getImmediate()}xo();var U=class{constructor(t){return t}},zt="messaging",xe=class{constructor(){return it(zt)}};var Jt="__angularfire_symbol__messagingIsSupported",Pe="__angularfire_symbol__messagingIsSupportedValue";globalThis[Jt]||=Oe().then(e=>globalThis[Pe]=e).catch(()=>globalThis[Pe]=!1);var ge={async:()=>globalThis[Jt],sync:()=>{let e=globalThis[Pe];if(e===void 0)throw new Error(nt("Messaging"));return e}},Fe=new Le("angularfire2.messaging-instances");function Po(e,t){if(!ge.sync())return null;let n=ot(zt,e,t);return n&&new U(n)}function Fo(e){return(t,n)=>{if(!ge.sync())return null;let o=t.runOutsideAngular(()=>e(n));return new U(o)}}var jo={provide:xe,deps:[[new me,Fe]]},Lo={provide:U,useFactory:Po,deps:[[new me,Fe],st]},qo=(()=>{class e{constructor(){v("angularfire",tt.full,"fcm")}static \u0275fac=function(o){return new(o||e)};static \u0275mod=Be({type:e});static \u0275inj=je({providers:[Lo,jo,{provide:Ue,useValue:ge.async,multi:!0}]})}return e})();function Yt(e,...t){return{ngModule:qo,providers:[{provide:Fe,useFactory:Fo(e),multi:!0,deps:[We,Ve,rt,ct,...t]}]}}var Di=ge.async;var Xt=at(Gt,!0);var Qt={firebase:{apiKey:"AIzaSyC5jrsX7ruu7CCjtsmOtf7sB_UkNeqWqyw",authDomain:"tpsaladejuegos-rotelagustavo.firebaseapp.com",projectId:"tpsaladejuegos-rotelagustavo",storageBucket:"tpsaladejuegos-rotelagustavo.appspot.com",messagingSenderId:"584958712061",appId:"1:584958712061:web:5a7039b4faadeb9a478694"}};var Zt=I(ie(()=>re(Qt.firebase)),ce(()=>ue()));var en={providers:[Ge(mt),Zt,I(ut(()=>dt())),I(ce(()=>ue())),I(Yt(()=>Xt())),I(ie(()=>re({projectId:"tpsaladejuegos-rotelagustavo",appId:"1:584958712061:web:5a7039b4faadeb9a478694",storageBucket:"tpsaladejuegos-rotelagustavo.appspot.com",apiKey:"AIzaSyC5jrsX7ruu7CCjtsmOtf7sB_UkNeqWqyw",authDomain:"tpsaladejuegos-rotelagustavo.firebaseapp.com",messagingSenderId:"584958712061"})))]};var tn=(()=>{let t=class t{constructor(){this.title="tpsaladejuegos-rotelagustavo"}};t.\u0275fac=function(r){return new(r||t)},t.\u0275cmp=M({type:t,selectors:[["app-root"]],standalone:!0,features:[N],decls:1,vars:0,template:function(r,i){r&1&&P(0,"router-outlet")},dependencies:[$e]});let e=t;return e})();He(tn,en).catch(e=>console.error(e));
