import{Aa as a,Ba as h,Bc as D,Ca as A,D as f,Da as I,Ea as C,G as w,Ha as k,Ja as p,L as x,Q as b,Qa as P,R as v,Ra as c,Sa as S,Ta as E,Ua as M,Ya as F,Za as Q,aa as _,ab as j,c as m,ca as d,da as y,eb as O,ma as g,pa as l,pb as T,qb as U,rb as N,vb as R,wb as V,xb as z,za as r}from"./chunk-4ZDQ67XS.js";var u=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl="https://pokeapi.co/api/v2/pokemon/"}getQuestion(e){return m(this,null,function*(){return yield(yield fetch(this.apiUrl+e)).json()})}};t.\u0275fac=function(i){return new(i||t)(w(V))},t.\u0275prov=f({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var $=(n,t,s,e)=>({"bg-white text-black":n,"bg-green-500 text-white":t,"bg-red-500 text-white":s,"hover:bg-gray-400":e});function B(n,t){if(n&1){let s=C();r(0,"button",11),k("click",function(){let i=b(s).$implicit,o=p(2);return v(o.checkAnswer(i))}),c(1),a()}if(n&2){let s=t.$implicit,e=p(2);l("ngClass",j(2,$,!e.selectedAnswer||e.selectedAnswer!==s,e.selectedAnswer===s&&e.isCorrectAnswer(s),e.selectedAnswer===s&&!e.isCorrectAnswer(s),!e.selectedAnswer)),d(),E(" ",s," ")}}function G(n,t){if(n&1&&(A(0),g(1,B,2,7,"button",10),I()),n&2){let s=p();d(),l("ngForOf",s.answers)}}function J(n,t){n&1&&(r(0,"div",12),c(1,"\xA0"),a(),r(2,"div",12),c(3,"\xA0"),a(),r(4,"div",12),c(5,"\xA0"),a(),r(6,"div",12),c(7,"\xA0"),a())}var ne=(()=>{let t=class t{constructor(e){this.preguntadosService=e,this.question="\xBFQui\xE9n es ese pokem\xF3n?",this.answers=[],this.chargeAnswers=[],this.imageUrl="../../assets/loading_icon.gif",this.usedPokemonsId=[],this.optionsId=[],this.selectedAnswer=null,this.correctAnswers=0,this.totalQuestions=0}ngOnInit(){setTimeout(()=>{this.loadQuestion()},500)}loadQuestion(){return m(this,null,function*(){this.message="",this.imageUrl="../../assets/loading_icon.gif";let e=this.getRandomPokemonId();for(this.answers=[],this.chargeAnswers=[],this.optionsId=[];this.usedPokemonsId.includes(e);)e=this.getRandomPokemonId();this.usedPokemonsId.push(e);let i=yield this.preguntadosService.getQuestion(e);this.imageUrl=i.sprites.other.dream_world.front_default,this.chargeAnswers=[i.name],this.correctAnswer=i.name,this.optionsId.push(e),this.getNames(),yield new Promise(o=>setTimeout(o,1e3))})}checkAnswer(e){this.selectedAnswer=e,this.totalQuestions+=1,this.isCorrectAnswer(e)?(this.correctAnswers+=1,this.message="\xA1Correcto!"):this.message="Incorrecto. Intenta de nuevo.",setTimeout(()=>{this.loadQuestion()},1e3)}isCorrectAnswer(e){return e==this.correctAnswer}getRandomPokemonId(){return Math.floor(Math.random()*650)+1}getNames(){return m(this,null,function*(){for(let e=1;e<4;e++){let i=this.getRandomPokemonId();for(;!this.optionsId.includes(i);)this.optionsId.push(i);let o=yield this.preguntadosService.getQuestion(this.optionsId[e]);this.chargeAnswers.push(o.name)}this.shuffleArray(this.chargeAnswers);for(let e=0;e<4;e++)this.answers.push(this.chargeAnswers[e])})}shuffleArray(e){return e.sort(()=>Math.random()-.5)}};t.\u0275fac=function(i){return new(i||t)(y(u))},t.\u0275cmp=x({type:t,selectors:[["app-preguntados"]],standalone:!0,features:[F([u]),Q],decls:14,vars:6,consts:[["placeholder",""],[1,"flex","flex-col","items-center","justify-center","min-h-screen"],[1,"bg-white","shadow-md","rounded-lg","py-6","px-4","sm:py-8","sm:px-6","md:py-12","md:px-8","max-w-xs","sm:max-w-md","md:max-w-lg","w-full","mt-4","relative","overflow-hidden"],[1,"flex","justify-center","mb-4"],["alt","Pregunta",1,"w-36","h-36","sm:w-48","sm:h-48","md:w-64","md:h-64","object-cover","rounded",3,"src"],[1,"bg-white","bg-opacity-75","p-6","rounded-lg"],[1,"text-2xl","font-bold","mb-4","text-center"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[4,"ngIf","ngIfElse"],[1,"mt-2","text-lg","font-bold","text-center"],["class","answer-button w-full py-2 px-2 sm:py-3 sm:px-4 md:py-4 md:px-6 rounded mb-2 border",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"answer-button","w-full","py-2","px-2","sm:py-3","sm:px-4","md:py-4","md:px-6","rounded","mb-2","border",3,"click","ngClass"],[1,"w-full","py-2","px-4","rounded","mb-2","border","bg-gray-200"]],template:function(i,o){if(i&1&&(h(0,"app-menu"),r(1,"div",1)(2,"div",2)(3,"div",3),h(4,"img",4),a(),r(5,"div",5)(6,"h2",6),c(7),a(),r(8,"div",7),g(9,G,2,1,"ng-container",8)(10,J,8,0,"ng-template",null,0,O),a(),r(12,"p",9),c(13),a()()()()),i&2){let H=P(11);d(4),l("src",o.imageUrl,_),d(3),S(o.question),d(2),l("ngIf",o.answers.length)("ngIfElse",H),d(4),M("Puntuaci\xF3n: ",o.correctAnswers,"/",o.totalQuestions,"")}},dependencies:[R,T,U,N,z,D],styles:['.image-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:0}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif;background-image:url("./media/fondo-VNURW5DW.jpg");background-size:cover;background-position:center;background-repeat:no-repeat}']});let n=t;return n})();export{ne as a};
