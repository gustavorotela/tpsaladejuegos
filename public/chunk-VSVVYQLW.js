import{Aa as a,Ba as h,Bc as H,Ca as I,D as w,Da as y,Ea as k,G as x,Ha as P,Ja as p,L as b,Q as v,Qa as S,R as _,Ra as l,Sa as E,Ta as f,Ua as M,Ya as F,Za as Q,_a as T,aa as A,ab as j,c as m,ca as c,da as C,eb as O,ma as u,pa as d,pb as N,qb as R,rb as U,vb as V,wb as z,xb as D,za as r}from"./chunk-LKR2EFMB.js";var g=(()=>{let t=class t{constructor(e){this.http=e,this.apiUrl="https://pokeapi.co/api/v2/pokemon/"}getQuestion(e){return m(this,null,function*(){return yield(yield fetch(this.apiUrl+e)).json()})}};t.\u0275fac=function(s){return new(s||t)(x(z))},t.\u0275prov=w({token:t,factory:t.\u0275fac,providedIn:"root"});let n=t;return n})();var B=(n,t,i,e)=>({"bg-white text-black":n,"bg-green-500 text-white":t,"bg-red-500 text-white":i,"hover:bg-gray-400":e}),G=(n,t)=>({"text-green-500":n,"text-red-500":t});function J(n,t){if(n&1){let i=k();r(0,"button",12),P("click",function(){let s=v(i).$implicit,o=p(2);return _(o.checkAnswer(s))}),l(1),a()}if(n&2){let i=t.$implicit,e=p(2);d("ngClass",j(2,B,!e.selectedAnswer||e.selectedAnswer!==i,e.selectedAnswer===i&&e.isCorrectAnswer(i),e.selectedAnswer===i&&!e.isCorrectAnswer(i),!e.selectedAnswer)),c(),f(" ",i," ")}}function K(n,t){if(n&1&&(I(0),u(1,J,2,7,"button",11),y()),n&2){let i=p();c(),d("ngForOf",i.answers)}}function L(n,t){n&1&&(r(0,"div",13),l(1,"\xA0"),a(),r(2,"div",13),l(3,"\xA0"),a(),r(4,"div",13),l(5,"\xA0"),a(),r(6,"div",13),l(7,"\xA0"),a())}function X(n,t){if(n&1&&(r(0,"p",14),l(1),a()),n&2){let i=p();d("ngClass",T(2,G,i.selectedAnswer!==null&&i.isCorrectAnswer(i.selectedAnswer),i.selectedAnswer!==null&&!i.isCorrectAnswer(i.selectedAnswer))),c(),f(" ",i.message," ")}}var oe=(()=>{let t=class t{constructor(e){this.preguntadosService=e,this.answers=[],this.chargeAnswers=[],this.usedPokemonsId=[],this.optionsId=[],this.selectedAnswer=null,this.correctAnswers=0,this.totalQuestions=0}ngOnInit(){setTimeout(()=>{this.loadQuestion()},500)}loadQuestion(){return m(this,null,function*(){this.message="",this.imageUrl="../../assets/loading_icon.gif";let e=this.getRandomPokemonId();for(this.answers=[],this.chargeAnswers=[],this.optionsId=[];this.usedPokemonsId.includes(e);)e=this.getRandomPokemonId();this.usedPokemonsId.push(e);let s=yield this.preguntadosService.getQuestion(e);this.imageUrl=s.sprites.other.dream_world.front_default,this.chargeAnswers=[s.name],this.correctAnswer=s.name,this.optionsId.push(e),this.getNames(),yield new Promise(o=>setTimeout(o,1e3))})}checkAnswer(e){this.selectedAnswer=e,this.totalQuestions+=1,this.isCorrectAnswer(e)?(this.correctAnswers+=1,this.message="\xA1Correcto!"):this.message="Incorrecto. Intenta de nuevo.",setTimeout(()=>{this.loadQuestion()},1e3)}isCorrectAnswer(e){return e==this.correctAnswer}getRandomPokemonId(){return Math.floor(Math.random()*650)+1}getNames(){return m(this,null,function*(){for(let e=1;e<4;e++){let s=this.getRandomPokemonId();for(;!this.optionsId.includes(s);)this.optionsId.push(s);let o=yield this.preguntadosService.getQuestion(this.optionsId[e]);this.chargeAnswers.push(o.name)}this.shuffleArray(this.chargeAnswers);for(let e=0;e<4;e++)this.answers.push(this.chargeAnswers[e])})}shuffleArray(e){return e.sort(()=>Math.random()-.5)}};t.\u0275fac=function(s){return new(s||t)(C(g))},t.\u0275cmp=b({type:t,selectors:[["app-preguntados"]],standalone:!0,features:[F([g]),Q],decls:15,vars:7,consts:[["placeholder",""],[1,"flex","flex-col","items-center","justify-center","min-h-screen"],[1,"relative"],[1,"bg-white","shadow-md","rounded-lg","p-6","max-w-md","w-full","relative","overflow-hidden"],["alt","Pregunta",1,"w-full","h-128","object-cover","rounded","mb-4",3,"src"],[1,"bg-white","bg-opacity-75","p-6","rounded-lg"],[1,"text-2xl","font-bold","mb-4","text-center"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[4,"ngIf","ngIfElse"],["class","mt-4 text-xl font-semibold text-center",3,"ngClass",4,"ngIf"],[1,"mt-2","text-lg","font-bold","text-center"],["class","answer-button w-full py-2 px-4 rounded mb-2 border",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"answer-button","w-full","py-2","px-4","rounded","mb-2","border",3,"click","ngClass"],[1,"w-full","py-2","px-4","rounded","mb-2","border","bg-gray-200"],[1,"mt-4","text-xl","font-semibold","text-center",3,"ngClass"]],template:function(s,o){if(s&1&&(h(0,"app-menu"),r(1,"div",1)(2,"div",2)(3,"div",3),h(4,"img",4),r(5,"div",5)(6,"h2",6),l(7),a(),r(8,"div",7),u(9,K,2,1,"ng-container",8)(10,L,8,0,"ng-template",null,0,O),a(),u(12,X,2,5,"p",9),r(13,"p",10),l(14),a()()()()()),s&2){let W=S(11);c(4),d("src",o.imageUrl,A),c(3),E(o.question),c(2),d("ngIf",o.answers.length)("ngIfElse",W),c(3),d("ngIf",o.message),c(2),M("Puntuaci\xF3n: ",o.correctAnswers,"/",o.totalQuestions,"")}},dependencies:[V,N,R,U,D,H],styles:['.image-container[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1}.image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:0}body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif;background-image:url("./media/fondo-VNURW5DW.jpg");background-size:cover;background-position:center;background-repeat:no-repeat}']});let n=t;return n})();export{oe as a};
