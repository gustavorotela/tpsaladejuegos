import{Aa as l,Ba as h,Bc as T,Ea as w,Ha as g,Ja as d,L as b,Q as u,R as p,Ra as o,Ta as f,Za as D,_a as I,aa as x,ca as c,ma as _,pa as m,pb as E,rb as j,ua as v,va as k,vb as H,xa as S,ya as y,za as n}from"./chunk-7FFAC2GN.js";var V=(r,a)=>({"text-green-500":r,"text-red-500":a});function O(r,a){if(r&1&&h(0,"img",5),r&2){let i=a.$implicit,e=d();m("src",e.getCardImage(i,!0),x)}}function F(r,a){if(r&1&&h(0,"img",7),r&2){let i=a.$implicit,e=d();m("src",e.getCardImage(i,!1),x)}}function M(r,a){if(r&1){let i=w();n(0,"div",2)(1,"button",8),g("click",function(){u(i);let t=d();return p(t.hit())}),o(2,"Pedir"),l(),n(3,"button",9),g("click",function(){u(i);let t=d();return p(t.stand())}),o(4,"Plantarse"),l()()}}function A(r,a){if(r&1&&(n(0,"p",12),o(1),l()),r&2){let i=d(2);m("ngClass",I(2,V,i.playerScore!==null&&i.isCorrectAnswer(i.dealerScore,i.playerScore),i.playerScore!==null&&!i.isCorrectAnswer(i.dealerScore,i.playerScore))),c(),f(" ",i.message," ")}}function P(r,a){if(r&1){let i=w();n(0,"div",2),_(1,A,2,5,"p",10),n(2,"button",11),g("click",function(){u(i);let t=d();return p(t.startGame())}),o(3,"Reiniciar Juego"),l()()}if(r&2){let i=d();c(),m("ngIf",i.message)}}var $=(()=>{let a=class a{constructor(){this.suits=["H","D","C","S"],this.values=["2","3","4","5","6","7","8","9","10","J","Q","K","A"],this.deck=[],this.playerHand=[],this.dealerHand=[],this.playerScore=0,this.dealerScore=0,this.gameOver=!1,this.revealDealerCards=!1,this.message=""}ngOnInit(){this.startGame()}startGame(){this.deck=this.initializeDeck(),this.playerHand=[this.drawCard(),this.drawCard()],this.dealerHand=[this.drawCard(),this.drawCard()],this.updateScores(),this.gameOver=!1,this.revealDealerCards=!1,this.message=""}initializeDeck(){let e=[];for(let t of this.suits)for(let s of this.values)e.push({suit:t,value:s});return e}drawCard(){let e=Math.floor(Math.random()*this.deck.length);return this.deck.splice(e,1)[0]}getCardValue(e){return e.value==="A"?11:["K","Q","J"].includes(e.value)?10:parseInt(e.value,10)}calculateScore(e){let t=e.reduce((C,B)=>C+this.getCardValue(B),0),s=e.filter(C=>C.value==="A").length;for(;t>21&&s>0;)t-=10,s--;return t}updateScores(){this.playerScore=this.calculateScore(this.playerHand),this.dealerScore=this.calculateScore(this.dealerHand)}hit(){this.gameOver||(this.playerHand.push(this.drawCard()),this.updateScores(),this.playerScore>21&&(this.message="\xA1Te pasaste! La casa gana.",this.gameOver=!0,this.revealDealerCards=!0))}stand(){if(!this.gameOver){for(this.revealDealerCards=!0;this.dealerScore<19;)this.dealerHand.push(this.drawCard()),this.updateScores();this.dealerScore>21||this.playerScore>this.dealerScore?this.message="\xA1Ganaste!":this.playerScore===this.dealerScore?this.message="\xA1Empate!":this.message="La casa gana.",this.gameOver=!0}}isCorrectAnswer(e,t){return e>21||t>e&&t<=21}getCardImage(e,t){return t&&!this.revealDealerCards?"assets/cartas/grey_back.png":`assets/cartas/${e.value}${e.suit}.png`}};a.\u0275fac=function(t){return new(t||a)},a.\u0275cmp=b({type:a,selectors:[["app-blackjack"]],standalone:!0,features:[D],decls:22,vars:4,consts:[[1,"flex","flex-col","items-center","justify-center","min-h-screen"],[1,"text-4xl","font-bold","mb-6",2,"color","white"],[1,"mb-6"],[1,"text-2xl","font-semibold",2,"color","white"],[1,"flex"],["alt","Dealer Card",1,"w-32","h-44","m-1",3,"src"],[1,"text-xl",2,"color","white"],["alt","Player Card",1,"w-32","h-44","m-1",3,"src"],[1,"bg-blue-500","text-white","py-3","px-6","rounded-lg","hover:bg-blue-700","mr-2",3,"click"],[1,"bg-green-500","text-white","py-3","px-6","rounded-lg","hover:bg-green-700",3,"click"],["class","mt-4 text-xl font-semibold text-center",3,"ngClass",4,"ngIf"],[1,"mt-4","bg-red-500","text-white","py-3","px-6","rounded-lg","hover:bg-red-700",3,"click"],[1,"mt-4","text-xl","font-semibold","text-center",3,"ngClass"]],template:function(t,s){t&1&&(h(0,"app-menu"),n(1,"div",0)(2,"h1",1),o(3,"Blackjack"),l(),n(4,"div",2)(5,"h2",3),o(6,"Dealer"),l(),n(7,"div",4),S(8,O,1,1,"img",5,k),l(),n(10,"p",6),o(11),l()(),n(12,"div",2)(13,"h2",3),o(14,"Jugador"),l(),n(15,"div",4),S(16,F,1,1,"img",7,k),l(),n(18,"p",6),o(19),l()(),_(20,M,5,0,"div",2)(21,P,4,1,"div",2),l()),t&2&&(c(8),y(s.dealerHand),c(3),f("Puntuaci\xF3n: ",s.revealDealerCards?s.dealerScore:"??",""),c(5),y(s.playerHand),c(3),f("Puntuaci\xF3n: ",s.playerScore,""),c(),v(20,s.gameOver?-1:20),c(),v(21,s.gameOver?21:-1))},dependencies:[T,H,E,j],styles:['body[_ngcontent-%COMP%]{margin:0;font-family:Roboto,Helvetica Neue,sans-serif;background-image:url("./media/fondo-VNURW5DW.jpg");background-size:cover;background-position:center;background-repeat:no-repeat}']});let r=a;return r})();export{$ as a};
